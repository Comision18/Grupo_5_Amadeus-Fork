<!DOCTYPE html>
<html lang="en">

<%- include('../partials/head.ejs') %>

    <body>
        <%- include('../partials/header.ejs') %>

            <main class="register__main">
                <h1 class="register--titulo">registrarse</h1>
                <h4 class="register--subtitulo">ingresá tus datos para crear tu cuenta</h4>
                <form action="" method="POST" class="register__form" enctype="multipart/form-data">
                    <div class="register__form--name">
                        <label for="name">Nombre</label>
                        <input type="text" class="form-control"
                            id="name" name="name" value="<%= (locals.old && old.name) && old.name %>">
                        <ul class="errors errorsName"></ul>
                        <small class="errors text-danger ms-2">
                            <%= locals.errors && errors.name ? errors.name.msg : null %>
                        </small>
                    </div>
                    <div class="register__form--surname">
                        <label for="surname">Apellido</label>
                        <input type="text" class="form-control"
                            id="surname" name="surname" value="<%= (locals.old && old.surname) && old.surname   %>">
                        <ul class="errors errorsSurname"></ul>
                        <small class="errors text-danger ms-2">
                            <%= locals.errors && errors.surname ? errors.surname.msg : null %>
                        </small>
                    </div>
                    <div class="register__form--email">
                        <label for="email">Correo Electrónico</label>
                        <input type="email" class="form-control"
                            id="email" name="email" value="<%= (locals.old && old.email) && old.email  %>">
                        <ul class="errors errorsEmail"></ul>
                        <small class="errors text-danger ms-2">
                            <%= locals.errors && errors.email ? errors.email.msg : null %>
                        </small>
                    </div>
                    <h4 class="register__form--tituloTel">Teléfono de Contacto</h4>
                    <div class="register__form--codarea">
                        <label for="codarea">Código de área</label>
                        <input type="number"
                            class="form-control" id="codarea"
                            name="codarea" value="<%= (locals.old && old.codarea) && old.codarea  %>">
                        <ul class="errors errorsCodarea"></ul>
                        <small class="errors text-danger ms-2">
                            <%= locals.errors && errors.codarea ? errors.codarea.msg : null %>
                        </small>
                    </div>
                    <div class="register__form--tel">
                        <label for="tel">Teléfono</label>
                        <input type="number" class="form-control"
                            id="tel" name="tel" value="<%= (locals.old && old.tel) && old.tel  %>">
                        <ul class="errors errorsTel"></ul>
                        <small class="errors text-danger ms-2">
                            <%= locals.errors && errors.tel ? errors.tel.msg : null %>
                        </small>
                    </div>
                    <div class="register__form--pass">
                        <label for="password">Contraseña</label>
                        <input type="password"
                            class="form-control" id="password"
                            name="password">
                        <ul class="errors errorsPassword"></ul>
                        <small class="errors text-danger ms-2">
                            <%= locals.errors && errors.password ? errors.password.msg : null %>
                        </small>
                    </div>
                    <div class="register__form--repeatPass">
                        <label for="password2">Repita su contraseña</label>
                        <input type="password"
                            class="form-control"
                            id="password2" name="password2">
                        <ul class="errors errorsRepeatPass"></ul>
                        <small class="text-danger ms-2">
                            <%= locals.errors && errors.password2 ? errors.password2.msg : null %>
                        </small>
                    </div>
                    <!-- subir img -->

                    <div class="formAdd__image">
                        <label class="avatar" for="">Inserte foto de perfil</label>
                        <input type="file" name="image">
                    </div>

                    <div class="register__form--spam checkCondiciones">
                        <label class="spam" id="checkCondiciones">
                            <input class="checkbox" type="checkbox" name="checkCondiciones">Acepto las <a href="/condiciones">Condiciones del Servicio</a>
                        </label>
                        <small class="errors text-danger ms-2">
                            <%= locals.errors && errors.checkCondiciones ? errors.checkCondiciones.msg : null %>
                        </small>
                    </div>
                    
                    <div class="register__form--spam checkPolitica">
                        <label class="spam" id="checkPolitica">
                            <input class="checkbox" type="checkbox" name="checkPolitica">He leído y acepto la <a href="/politica">Política
                                de
                                Privacidad</a>
                        </label>
                        <small class="errors text-danger ms-2">
                            <%= locals.errors && errors.checkPolitica ? errors.checkPolitica.msg : null %>
                        </small>
                    </div>
                    
                    <div class="register__form--spam">
                        <label class="spam" for="spam"><input class="checkbox" type="checkbox" id="spam">Deseo recibir ofertas y promociones de productos en mi
                            email.</label>
                    </div>

                    <div id="emailList" data-emails=<%- JSON.stringify(emails) %>></div>
                    <button type="submit" id="submitBtn" class="button-submit">registrarse</button>
                    <h2 class="register__form--ingresar">¿Ya tenés cuenta? Entrá <a href="/users/login">acá</a></h2>
                    <a class="form__button--google" href="/auth/login/google"><img src="/images/logo-google.png" alt="">
                        <p>Continuar con Google</p>
                    </a>
                </form>
            </main>

            <script type="module" src="/js/register.js"></script>
            <%- include('../partials/footer.ejs') %>
    </body>

</html>